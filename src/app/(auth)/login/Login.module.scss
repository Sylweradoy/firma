@use "sass:map";
@use "sass:color";
@use "styles/index" as *;

/* zapobiega „puchnięciu” wymiarów */
.login,
.login *,
.login *::before,
.login *::after {
  box-sizing: border-box;
}

/* pełny ekran + tło, bez poziomego scrolla */
.login {
  position: relative;
  min-height: 100vh;
  min-height: 100svh;
  background: $color-bg;
  isolation: isolate;
  overflow-x: hidden; /* ⬅️ ważne */
  overflow-y: auto;
}

/* kropki w tle */
.bgDots {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: 0.55;
  background: radial-gradient(
      circle at 20% 30%,
      color.change($white, $alpha: 0.08),
      transparent 40%
    ),
    radial-gradient(
      circle at 80% 70%,
      color.change($white, $alpha: 0.06),
      transparent 42%
    ),
    repeating-radial-gradient(
      circle at 50% 50%,
      color.change($white, $alpha: 0.1) 0 1.5px,
      transparent 1.5px 8px
    );
}

/* wrapper nigdy szerzej niż viewport */
.wrap {
  position: relative;
  z-index: 1;
  display: grid;
  place-items: center;
  inline-size: 100%;
  max-inline-size: 100vw; /* ⬅️ twarde ograniczenie */
  padding-block: clamp(16px, 6vw, 48px);
  padding-inline: clamp(12px, 4vw, 24px);
  /* bezpieczne strefy (iPhone) */
  padding-left: max(env(safe-area-inset-left, 0), clamp(12px, 4vw, 24px));
  padding-right: max(env(safe-area-inset-right, 0), clamp(12px, 4vw, 24px));
}

/* karta logowania */
.card {
  inline-size: 100%; /* ⬅️ pełna szerokość wrappera */
  max-inline-size: 480px; /* ⬅️ ale nie więcej na desktopie */
  margin-inline: auto;
  border-radius: radius(xl);
  border: 1px solid $color-border;
  background: color.change($white, $alpha: 0.06);
  box-shadow: 0 24px 64px rgba(0, 0, 0, 0.28);
  padding: clamp(16px, 3vw, 28px);
  display: grid;
  gap: 14px;
}

/* logo / brand */
.logo {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-family: $font-brand;
  font-weight: $weight-bold;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: $white;
  font-size: clamp(18px, 3.5vw, 22px);
}
.logo .dot {
  inline-size: 10px;
  block-size: 10px;
  border-radius: 50%;
  background: $color-accent;
  box-shadow: 0 0 18px color.change($color-accent, $alpha: 0.7);
}
.image {
  width: 120px;
}
/* typografia */
.title {
  margin: 2px 0 0;
  font-family: $font-brand;
  font-weight: $weight-bold;
  color: $white;
  line-height: 1.08;
  font-size: clamp(20px, 6vw, 30px);
  span {
    color: $color-accent;
    text-shadow: 0 0 18px color.change($color-accent, $alpha: 0.35);
  }
}
.lead {
  margin: 0 0 6px;
  color: $color-muted;
  font-size: clamp(13px, 3.4vw, 14px);
}

/* formularz */
.form {
  display: grid;
  gap: 12px;
  label {
    font-size: 12px;
    color: $color-muted;
  }
  :is(input) {
    inline-size: 100%;
    border-radius: radius(lg);
    border: 1px solid $color-border;
    background: color.change($white, $alpha: 0.04);
    color: $color-fg;
    padding: 12px 12px;
    font-size: 16px; /* iOS – brak zooma */
    &::placeholder {
      color: color.change($white, $alpha: 0.5);
    }
    &:focus {
      outline: 2px solid color.change($color-accent, $alpha: 0.65);
      outline-offset: 2px;
    }
  }
}

.error{
  color: red;
}
.field {
  display: grid;
  gap: 6px;

  & label {
    color: $white;
    font-family: $font-brand;
    font-weight: $weight-bold;
    font-size: 18px;
   letter-spacing: map.get($spacing, xl)
  }
}

/* przyciski (bez komponentów) */
.btn {
  -webkit-tap-highlight-color: transparent;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 16px;
  font-family: $font-brand;
  font-weight: $weight-bold;
  font-size: 16px;
  line-height: 1;
  text-decoration: none;
  cursor: pointer;
  user-select: none;
  min-width: 0;
  border-radius: radius(md);
  border: 1.5px solid currentColor;
  transition: background-color 0.18s ease, color 0.18s ease,
    border-color 0.18s ease, transform 0.12s ease;
  &:active {
    transform: translateY(1px);
  }
}
.primary {
  background: $color-accent;
  color: $white;
  border-color: $color-accent;
  &:hover {
    background: $white;
    color: $color-accent;
    border-color: $color-accent;
  }
}
.secondary {
  background: $white;
  color: $color-accent;
  border-color: $color-accent;
  &:hover {
    background: $color-accent;
    color: $white;
    border-color: $color-accent;
  }
}

/* rząd akcji */
.actions {
  margin-top: 6px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* === RWD: telefony === */
@media (max-width: 480px) {
  .bgDots {
    opacity: 0.45;
  }
  .card {
    max-inline-size: 100%; /* ⬅️ żadnych „vw + padding” */
    border-radius: radius(lg);
    padding: 14px;
    box-shadow: 0 16px 44px rgba(0, 0, 0, 0.26);
  }
  .title {
    font-size: clamp(20px, 6.5vw, 26px);
  }
  .lead {
    font-size: 13px;
  }
  .actions {
    gap: 8px;
    .btn {
      inline-size: 100%;
    }
  } /* pełna szerokość */
}

/* mniej animacji (opcjonalnie) */
@media (prefers-reduced-motion: reduce) {
  .bgDots {
    animation: none;
  }
}
